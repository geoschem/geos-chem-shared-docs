.. _cfg-phot-chem:

############################################
Photolysis and chemistry configuration files
############################################

.. note::

   You won't need to edit these configuration files unless you are
   changing the photolysis and/or chemistry mechanisms used in your
   GEOS-Chem Classic simulation.

.. _cfg-phot-chm-phot:

==============================
Photolysis configuration files
==============================

Configuration files containing photolysis parameters (such as quantum
yields, cross sections, branching ratios, etc.) may be found in
subdirectories of  :file:`ExtData/CHEM_INPUTS/CLOUD-J/` and
:file:`ExtData/CHEM_INPUTS/FAST-JX/`.  See the :ref:`cfg-gc-yml`
file for the current file path specifications.

GEOS-Chem versions 14.3.0 and later use the :program:`Cloud-J`
photolysis scheme by default.  However, some aerosol properties
(e.g. relative humidity dependence) are still stored in files located
in the :file:`ExtData/CHEM_INPUTS/FAST_JX` directory tree.

At present, the mercury (Hg) simulation still uses the legacy
:program:`FAST-JX` photolysis scheme.  We look to the GEOS-Chem user
community to take the lead on creating configuration files for
:program:`Cloud-J`.

.. _cfg-phot-chem-chem:

======================================
Chemical mechanism configuration files
======================================

GEOS-Chem Classic simulations use source code generated by `The
Kinetic PreProcessor <https://github.com/KineticPreProcessor/KPP>`_.
If you need to update the default chemistry mechanism, you will need
to do the following steps:

#. Modify the relevant KPP configuration files (described below);
#. Run KPP to generate updated source code for GEOS-Chem Classic;
#. :ref:`Compile GEOS-Chem Classic <compile>` to create a new
   executable;
#. Start your GEOS-Chem Classic simulation.

Chemical mechanism configuration files are located in these folders:

.. option:: KPP/fullchem

   Contains configuration files for the default "full-chemistry"
   mechanism (NOx + Ox + aerosols + Br + Cl + I).

   - :file:`fullchem.kpp`: Main configuration file for the
     **fullchem** mechanism.

   - :file:`fullchem.eqn`: List of species and reactions
     for the **fullchem** mechanism.

.. option:: KPP/carbon

   Contains configuration files for the carbon gases mechanism
   (CH4-CO2-CO-OCS):

   - :file:`carbon.kpp`: Main configuration file for the **carbon**
     mechanism.

   - :file:`carbon.eqn`: List of species and reactions for the **carbon**
     mechanism.

.. option:: KPP/custom

   Contains configuration files that you can edit if you need to
   create a custom mechanism.   We recommend that you create the
   custom in this folder and leave :file:`KPP/fullchem` and
   :file:`KPP/Hg` untouched.

   - :file:`custom.kpp`: Copy of :file:`fullchem.kpp`

   - :file:`custom.eqn`: Copy of :file:`fullchem.eqn`.

.. option:: KPP/Hg

   Contains configuration files for the mercury chemistry mechanism:

   - :file:`Hg.kpp`: Main configuration file for the **Hg**
     mechanism.

   - :file:`Hg.eqn`: List of species and reactions for the **Hg**
     mechanism.

Please see the following references for more information about KPP:

#. The KPP user manual (`kpp.readthedocs.io <https://kpp.readthedocs.io>`_)
#. Supplemental Guide: :ref:`kppguide`
